-----------------------------------------------------------------------------
      name:  <unnamed>
       log:  /Users/sokbaelee/Dropbox/Persuasion/JPE/Replication Files/script
> s/logs/2022.11.05-06.54.00.log.txt
  log type:  text
 opened on:   5 Nov 2022, 06:54:00

. 
. di "Begin date and time: $S_DATE $S_TIME"
Begin date and time:  5 Nov 2022 06:54:00

. di "Stata version: `c(stata_version)'"
Stata version: 17

. di "Updated as of: `c(born_date)'"
Updated as of: 23 Aug 2022

. di "Variant:       `=cond( c(MP),"MP",cond(c(SE),"SE",c(flavor)) )'"
Variant:       MP

. di "Processors:    `c(processors)'"
Processors:    4

. di "OS:            `c(os)' `c(osdtl)'"
OS:            MacOSX 12.5.1

. di "Machine type:  `c(machine_type)'"
Machine type:  Mac (Apple Silicon)

. 
. * Stata version control
. version 17

. 
. * Create directories for output files
. cap mkdir "$Persuasion/results"

. 
. **********************
. * Run analysis
. **********************
. * TABLE 1. Persuasion Rates: Papers on Voter Turnout
. do "$Persuasion/scripts/table1.do"

. ************
. * SCRIPT:   table1.do
. * PURPOSE:  Creates Table 1
. ************
. 
. * input for table 1
. matrix turnout = ///
>   ( 0.472, 0.448, 0.279, 0 \ ///
>         0.310, 0.286, 0.293, 0 \ ///
>         0.711, 0.660, 0.737, 0 \ ///
>         0.416, 0.405, 0.414, 0 \ ///
>         0.455, 0.435, 0.800, 0 \ ///
>         0.700, 0.690, 0.250, 0 )

.         
. matrix results = J(1,5,.)

.         
. foreach j of numlist 1/6 {      
  2. 
.         display `j'
  3. 
.         scalar y1 = turnout[`j',1]
  4.         scalar y0 = turnout[`j',2]
  5.         scalar e1 = turnout[`j',3]
  6.         scalar e0 = turnout[`j',4]
  7. 
.         calc4persuasio y1 y0 e1 e0
  8.         
.         scalar persuasion_DK = (y1-y0)/((e1-e0)*(1-y0))
  9. 
.         matrix results = results \ (persuasion_DK, r(apr_lb), r(apr_ub), r(
> lpr_lb), r(lpr_ub)) 
 10. 
. }
1
 
--------------------------------------------------------------
calc4persuasio: Calculate the effect of persuasion when info.
   on Pr(y=1|z) and/or Pr(t=1|z) for each z=0,1 is available
 
---------------------------------------------------------------
               Parameter | Lower Bound       Upper Bound 
-------------------------+-------------------------------------
 Average Persuasion Rate |  .043478                  1 
   Local Persuasion Rate |  .086022                  1 
---------------------------------------------------------------

2
 
--------------------------------------------------------------
calc4persuasio: Calculate the effect of persuasion when info.
   on Pr(y=1|z) and/or Pr(t=1|z) for each z=0,1 is available
 
---------------------------------------------------------------
               Parameter | Lower Bound       Upper Bound 
-------------------------+-------------------------------------
 Average Persuasion Rate |  .033613                  1 
   Local Persuasion Rate |  .081911                  1 
---------------------------------------------------------------

3
 
--------------------------------------------------------------
calc4persuasio: Calculate the effect of persuasion when info.
   on Pr(y=1|z) and/or Pr(t=1|z) for each z=0,1 is available
 
---------------------------------------------------------------
               Parameter | Lower Bound       Upper Bound 
-------------------------+-------------------------------------
 Average Persuasion Rate |      .15            .923529 
   Local Persuasion Rate |      .15                  1 
---------------------------------------------------------------

4
 
--------------------------------------------------------------
calc4persuasio: Calculate the effect of persuasion when info.
   on Pr(y=1|z) and/or Pr(t=1|z) for each z=0,1 is available
 
---------------------------------------------------------------
               Parameter | Lower Bound       Upper Bound 
-------------------------+-------------------------------------
 Average Persuasion Rate |  .018487                  1 
   Local Persuasion Rate |   .02657                  1 
---------------------------------------------------------------

5
 
--------------------------------------------------------------
calc4persuasio: Calculate the effect of persuasion when info.
   on Pr(y=1|z) and/or Pr(t=1|z) for each z=0,1 is available
 
---------------------------------------------------------------
               Parameter | Lower Bound       Upper Bound 
-------------------------+-------------------------------------
 Average Persuasion Rate |  .035398            .389381 
   Local Persuasion Rate |  .035398                  1 
---------------------------------------------------------------

6
 
--------------------------------------------------------------
calc4persuasio: Calculate the effect of persuasion when info.
   on Pr(y=1|z) and/or Pr(t=1|z) for each z=0,1 is available
 
---------------------------------------------------------------
               Parameter | Lower Bound       Upper Bound 
-------------------------+-------------------------------------
 Average Persuasion Rate |  .032258                  1 
   Local Persuasion Rate |      .04                  1 
---------------------------------------------------------------


. 
. matrix results = 100*results[2..7,1..5]

. 
. frmttable using "$Persuasion/results/table1", statmat(results) tex replace 
> sdec(1) ///
>         ctitles("", DK, APR (LB), APR (UB), LPR (LB), LPR (UB) )  ///
>         rtitles("Green and Gerber (2000)" \ "Green, Gerber, and Nickerson (
> 2003)" \ ///
>         "Green and Gerber (2001)" \ "Green and Gerber (2001)" \    ///
>         "Gentzkow (2006)" \ "Gentzkow, Shapiro, and Sinkinson (2011)")  ///
>         title("Persuasion Rates: Papers on Voter Turnout")

                  Persuasion Rates: Papers on Voter Turnout
-----------------------------------------------------------------------------
> -------------
                                           DK   APR (LB)  APR (UB)  LPR (LB) 
>  LPR (UB)  
-----------------------------------------------------------------------------
> -------------
Green and Gerber (2000)                   15.6    4.3      100.0      8.6    
>    100.0   
Green, Gerber, and Nickerson (2003)       11.5    3.4      100.0      8.2    
>    100.0   
Green and Gerber (2001)                   20.4    15.0      92.4      15.0   
>    100.0   
Green and Gerber (2001)                   4.5     1.8      100.0      2.7    
>    100.0   
Gentzkow (2006)                           4.4     3.5       38.9      3.5    
>    100.0   
Gentzkow, Shapiro, and Sinkinson (2011)   12.9    3.2      100.0      4.0    
>    100.0   
-----------------------------------------------------------------------------
> -------------


. 
end of do-file

. 
. * Effects of Uncensored Media: Revisiting Chen and Yang (2019)
. *   To generate the dataset "ChenYang2019.dta", it is necessary to run CY19
> _data.do 
. *   after downloading the original dataset from 
. *   the AER webpage at https://www.aeaweb.org/articles?id=10.1257/aer.20171
> 765
. *   and storing them at "$Persuasion/data/ChenYang2019".
. *   As the dataset is already created and stored at "$Persuasion/data/ChenY
> ang2019", 
. *   the do file is commented below.
. *do "$Persuasion/scripts/CY19_data.do"
. *   TABLE 2. Persuasion Rates of Exposure to Uncensored Internet
. do "$Persuasion/scripts/table2.do"

. ************
. * SCRIPT:   table2.do
. * PURPOSE:  Creates Table 2
. ************
. 
.         use "$Persuasion/data/ChenYang2019/ChenYang2019.dta", clear

. 
.         matrix results = J(1, 5, .)

.         qui reg active_user treatment_vpnonly treatment_nlonly treatment_vp
> nnl, r

.         local share_compliers = _b[treatment_vpnnl]

.                         
.         // persuasion rates for panel variables
.         foreach Y in info_foreign_website ///   A.1.2 Ranked high: foreign 
> websites
>                                  info_freq_website_for ///      A.1.6 Freq.
>  of visiting foreign websites for info.
>                                  az_belief_media_value ///      A.3 Valuati
> on of access to foreign media outlets
>                                  az_belief_media_trust ///      A.4 Trust i
> n non-domestic media outlets
>                                  bias_domestic ///                      A.5
> .1 Degree of censorship on domestic news outlets     
>                                  bias_foreign ///       A.5.2 Degree of cen
> sorship on foreign news outlets      
>                                  az_belief_media_justif /// A.6 Censorship 
> unjustified
>                                  bias_dom_govt_policy_t1 ///  A.7.1 Domesti
> c cens. driven by govt. policies
>                                  bias_for_govt_policy_t1 /// A.7.2 Foreign 
> cens. driven by govt. policies
>                 {
  2.                                 
.                 qui reg `Y'_w3_p treatment_vpnonly treatment_nlonly treatme
> nt_vpnnl, r
  3.                 qui summ `Y'_w1_p if treatment_vpnnl == 1
  4.                 local persuasion_DK = _b[treatment_vpnnl]/(`share_compli
> ers'*(1-`r(mean)'))
  5.                                 
.                 persuasio apr `Y'_w3_p active_user treatment_vpnnl ///
>                                         if (treatment_main == 1) | (treatme
> nt_main == 3), ///
>                                         method("bootstrap") nboot($nbt)
  6. 
.                 matrix pers_res = (e(apr_est) \ e(apr_ci))
  7.                 
.                 persuasio lpr `Y'_w3_p active_user treatment_vpnnl ///
>                                         if (treatment_main == 1) | (treatme
> nt_main == 3), ///
>                                         method("bootstrap") nboot($nbt)
  8.                                         
.                 matrix CY = (`persuasion_DK' \ .)                       
  9.                 matrix pers_res = (pers_res, ( (e(lpr_est), .) \ e(lpr_c
> i)))
 10.                 matrix results = results \ ( CY , pers_res)
 11.                                 
.                 }
 
-----------------------------------------------------------------
persuasio4ytz: Causal inference on the Average Persuasion Rate
 when outcome, instrument and instrument are observed
 along with covariates
-----------------------------------------------------------------
 
 - Binary outcome: info_foreign_website_w3_p
 - Binary treatment: active_user
 - Binary instrument: treatment_vpnnl
 - Covariates (if exist): 
 - Regression model (if specified): 
 
(running aprlb on estimation sample)

Bootstrap replications (10)
----+--- 1 ---+--- 2 ---+--- 3 ---+--- 4 ---+--- 5 
..........

Bootstrap results                                          Number of obs = 88
> 6
                                                           Replications  =  1
> 0

      Command: aprlb info_foreign_website_w3_p treatment_vpnnl, model("")
         coef: e(lb_coef)
(running aprub on estimation sample)

Bootstrap replications (10)
----+--- 1 ---+--- 2 ---+--- 3 ---+--- 4 ---+--- 5 
..........

Bootstrap results                                          Number of obs = 88
> 6
                                                           Replications  =  1
> 0

      Command: aprub info_foreign_website_w3_p active_user treatment_vpnnl,
                   model("")
         coef: e(ub_coef)
 
------------------------------------------------------------------
               Parameter | Bound Estimate      95% Conf. Interval
-------------------------+----------------------------------------
 Average Persuasion Rate | .219048  .684354    .158141  .721339 
------------------------------------------------------------------
 
Note: 95% conf. interval is based on percentile bootstrap.
     The conf. level is one-sided for the lower and upper bounds separately.
 
Reference: Jun and Lee (2019), arXiv:1812.02276 [econ.EM]
 
-----------------------------------------------------------------
persuasio4ytz2lpr: Causal inference on the local persuasion rate
 when outcome, instrument and instrument are observed
-----------------------------------------------------------------
 
 - Binary outcome: info_foreign_website_w3_p
 - Binary treatment: active_user
 - Binary instrument: treatment_vpnnl
 - Covariates (if exist): 
 - Regression model (if specified): 
 
(running lpr4ytz on estimation sample)

Bootstrap replications (10)
----+--- 1 ---+--- 2 ---+--- 3 ---+--- 4 ---+--- 5 
..........

Bootstrap results                                          Number of obs = 88
> 6
                                                           Replications  =  1
> 0

      Command: lpr4ytz info_foreign_website_w3_p active_user
                   treatment_vpnnl, model("")
         coef: e(lpr_coef)
 
------------------------------------------------------------------
               Parameter | Estimate            95% Conf. Interval
-------------------------+----------------------------------------
   Local Persuasion Rate | .409669             .386421  .495701 
------------------------------------------------------------------
 
Note: 95% conf. interval is based on percentile bootstrap.
 
Reference: Jun and Lee (2019), arXiv:1812.02276 [econ.EM]
 
-----------------------------------------------------------------
persuasio4ytz: Causal inference on the Average Persuasion Rate
 when outcome, instrument and instrument are observed
 along with covariates
-----------------------------------------------------------------
 
 - Binary outcome: info_freq_website_for_w3_p
 - Binary treatment: active_user
 - Binary instrument: treatment_vpnnl
 - Covariates (if exist): 
 - Regression model (if specified): 
 
(running aprlb on estimation sample)

Bootstrap replications (10)
----+--- 1 ---+--- 2 ---+--- 3 ---+--- 4 ---+--- 5 
..........

Bootstrap results                                          Number of obs = 88
> 6
                                                           Replications  =  1
> 0

      Command: aprlb info_freq_website_for_w3_p treatment_vpnnl, model("")
         coef: e(lb_coef)
(running aprub on estimation sample)

Bootstrap replications (10)
----+--- 1 ---+--- 2 ---+--- 3 ---+--- 4 ---+--- 5 
..........

Bootstrap results                                          Number of obs = 88
> 6
                                                           Replications  =  1
> 0

      Command: aprub info_freq_website_for_w3_p active_user
                   treatment_vpnnl, model("")
         coef: e(ub_coef)
 
------------------------------------------------------------------
               Parameter | Bound Estimate      95% Conf. Interval
-------------------------+----------------------------------------
 Average Persuasion Rate | .555256  .766192    .514016  .805772 
------------------------------------------------------------------
 
Note: 95% conf. interval is based on percentile bootstrap.
     The conf. level is one-sided for the lower and upper bounds separately.
 
Reference: Jun and Lee (2019), arXiv:1812.02276 [econ.EM]
 
-----------------------------------------------------------------
persuasio4ytz2lpr: Causal inference on the local persuasion rate
 when outcome, instrument and instrument are observed
-----------------------------------------------------------------
 
 - Binary outcome: info_freq_website_for_w3_p
 - Binary treatment: active_user
 - Binary instrument: treatment_vpnnl
 - Covariates (if exist): 
 - Regression model (if specified): 
 
(running lpr4ytz on estimation sample)

Bootstrap replications (10)
----+--- 1 ---+--- 2 ---+--- 3 ---+--- 4 ---+--- 5 
..........

Bootstrap results                                          Number of obs = 88
> 6
                                                           Replications  =  1
> 0

      Command: lpr4ytz info_freq_website_for_w3_p active_user
                   treatment_vpnnl, model("")
         coef: e(lpr_coef)
 
------------------------------------------------------------------
               Parameter | Estimate            95% Conf. Interval
-------------------------+----------------------------------------
   Local Persuasion Rate | .703689             .652327  .767609 
------------------------------------------------------------------
 
Note: 95% conf. interval is based on percentile bootstrap.
 
Reference: Jun and Lee (2019), arXiv:1812.02276 [econ.EM]
 
-----------------------------------------------------------------
persuasio4ytz: Causal inference on the Average Persuasion Rate
 when outcome, instrument and instrument are observed
 along with covariates
-----------------------------------------------------------------
 
 - Binary outcome: az_belief_media_value_w3_p
 - Binary treatment: active_user
 - Binary instrument: treatment_vpnnl
 - Covariates (if exist): 
 - Regression model (if specified): 
 
(running aprlb on estimation sample)

Bootstrap replications (10)
----+--- 1 ---+--- 2 ---+--- 3 ---+--- 4 ---+--- 5 
..........

Bootstrap results                                          Number of obs = 88
> 6
                                                           Replications  =  1
> 0

      Command: aprlb az_belief_media_value_w3_p treatment_vpnnl, model("")
         coef: e(lb_coef)
(running aprub on estimation sample)

Bootstrap replications (10)
----+--- 1 ---+--- 2 ---+--- 3 ---+--- 4 ---+--- 5 
..........

Bootstrap results                                          Number of obs = 88
> 6
                                                           Replications  =  1
> 0

      Command: aprub az_belief_media_value_w3_p active_user
                   treatment_vpnnl, model("")
         coef: e(ub_coef)
 
------------------------------------------------------------------
               Parameter | Bound Estimate      95% Conf. Interval
-------------------------+----------------------------------------
 Average Persuasion Rate | .492549  .821452    .452428   .83618 
------------------------------------------------------------------
 
Note: 95% conf. interval is based on percentile bootstrap.
     The conf. level is one-sided for the lower and upper bounds separately.
 
Reference: Jun and Lee (2019), arXiv:1812.02276 [econ.EM]
 
-----------------------------------------------------------------
persuasio4ytz2lpr: Causal inference on the local persuasion rate
 when outcome, instrument and instrument are observed
-----------------------------------------------------------------
 
 - Binary outcome: az_belief_media_value_w3_p
 - Binary treatment: active_user
 - Binary instrument: treatment_vpnnl
 - Covariates (if exist): 
 - Regression model (if specified): 
 
(running lpr4ytz on estimation sample)

Bootstrap replications (10)
----+--- 1 ---+--- 2 ---+--- 3 ---+--- 4 ---+--- 5 
..........

Bootstrap results                                          Number of obs = 88
> 6
                                                           Replications  =  1
> 0

      Command: lpr4ytz az_belief_media_value_w3_p active_user
                   treatment_vpnnl, model("")
         coef: e(lpr_coef)
 
------------------------------------------------------------------
               Parameter | Estimate            95% Conf. Interval
-------------------------+----------------------------------------
   Local Persuasion Rate | .733946             .699874  .777865 
------------------------------------------------------------------
 
Note: 95% conf. interval is based on percentile bootstrap.
 
Reference: Jun and Lee (2019), arXiv:1812.02276 [econ.EM]
 
-----------------------------------------------------------------
persuasio4ytz: Causal inference on the Average Persuasion Rate
 when outcome, instrument and instrument are observed
 along with covariates
-----------------------------------------------------------------
 
 - Binary outcome: az_belief_media_trust_w3_p
 - Binary treatment: active_user
 - Binary instrument: treatment_vpnnl
 - Covariates (if exist): 
 - Regression model (if specified): 
 
(running aprlb on estimation sample)

Bootstrap replications (10)
----+--- 1 ---+--- 2 ---+--- 3 ---+--- 4 ---+--- 5 
..........

Bootstrap results                                          Number of obs = 88
> 6
                                                           Replications  =  1
> 0

      Command: aprlb az_belief_media_trust_w3_p treatment_vpnnl, model("")
         coef: e(lb_coef)
(running aprub on estimation sample)

Bootstrap replications (10)
----+--- 1 ---+--- 2 ---+--- 3 ---+--- 4 ---+--- 5 
..........

Bootstrap results                                          Number of obs = 88
> 6
                                                           Replications  =  1
> 0

      Command: aprub az_belief_media_trust_w3_p active_user
                   treatment_vpnnl, model("")
         coef: e(ub_coef)
 
------------------------------------------------------------------
               Parameter | Bound Estimate      95% Conf. Interval
-------------------------+----------------------------------------
 Average Persuasion Rate |  .62923  .858065    .605998  .873447 
------------------------------------------------------------------
 
Note: 95% conf. interval is based on percentile bootstrap.
     The conf. level is one-sided for the lower and upper bounds separately.
 
Reference: Jun and Lee (2019), arXiv:1812.02276 [econ.EM]
 
-----------------------------------------------------------------
persuasio4ytz2lpr: Causal inference on the local persuasion rate
 when outcome, instrument and instrument are observed
-----------------------------------------------------------------
 
 - Binary outcome: az_belief_media_trust_w3_p
 - Binary treatment: active_user
 - Binary instrument: treatment_vpnnl
 - Covariates (if exist): 
 - Regression model (if specified): 
 
(running lpr4ytz on estimation sample)

Bootstrap replications (10)
----+--- 1 ---+--- 2 ---+--- 3 ---+--- 4 ---+--- 5 
..........

Bootstrap results                                          Number of obs = 88
> 6
                                                           Replications  =  1
> 0

      Command: lpr4ytz az_belief_media_trust_w3_p active_user
                   treatment_vpnnl, model("")
         coef: e(lpr_coef)
 
------------------------------------------------------------------
               Parameter | Estimate            95% Conf. Interval
-------------------------+----------------------------------------
   Local Persuasion Rate | .815947             .794262  .871686 
------------------------------------------------------------------
 
Note: 95% conf. interval is based on percentile bootstrap.
 
Reference: Jun and Lee (2019), arXiv:1812.02276 [econ.EM]
 
-----------------------------------------------------------------
persuasio4ytz: Causal inference on the Average Persuasion Rate
 when outcome, instrument and instrument are observed
 along with covariates
-----------------------------------------------------------------
 
 - Binary outcome: bias_domestic_w3_p
 - Binary treatment: active_user
 - Binary instrument: treatment_vpnnl
 - Covariates (if exist): 
 - Regression model (if specified): 
 
(running aprlb on estimation sample)

Bootstrap replications (10)
----+--- 1 ---+--- 2 ---+--- 3 ---+--- 4 ---+--- 5 
..........

Bootstrap results                                          Number of obs = 88
> 6
                                                           Replications  =  1
> 0

      Command: aprlb bias_domestic_w3_p treatment_vpnnl, model("")
         coef: e(lb_coef)
(running aprub on estimation sample)

Bootstrap replications (10)
----+--- 1 ---+--- 2 ---+--- 3 ---+--- 4 ---+--- 5 
..........

Bootstrap results                                          Number of obs = 88
> 6
                                                           Replications  =  1
> 0

      Command: aprub bias_domestic_w3_p active_user treatment_vpnnl,
                   model("")
         coef: e(ub_coef)
 
------------------------------------------------------------------
               Parameter | Bound Estimate      95% Conf. Interval
-------------------------+----------------------------------------
 Average Persuasion Rate | .350944  .734821    .272313  .783579 
------------------------------------------------------------------
 
Note: 95% conf. interval is based on percentile bootstrap.
     The conf. level is one-sided for the lower and upper bounds separately.
 
Reference: Jun and Lee (2019), arXiv:1812.02276 [econ.EM]
 
-----------------------------------------------------------------
persuasio4ytz2lpr: Causal inference on the local persuasion rate
 when outcome, instrument and instrument are observed
-----------------------------------------------------------------
 
 - Binary outcome: bias_domestic_w3_p
 - Binary treatment: active_user
 - Binary instrument: treatment_vpnnl
 - Covariates (if exist): 
 - Regression model (if specified): 
 
(running lpr4ytz on estimation sample)

Bootstrap replications (10)
----+--- 1 ---+--- 2 ---+--- 3 ---+--- 4 ---+--- 5 
..........

Bootstrap results                                          Number of obs = 88
> 6
                                                           Replications  =  1
> 0

      Command: lpr4ytz bias_domestic_w3_p active_user treatment_vpnnl,
                   model("")
         coef: e(lpr_coef)
 
------------------------------------------------------------------
               Parameter | Estimate            95% Conf. Interval
-------------------------+----------------------------------------
   Local Persuasion Rate | .569601             .525479  .624509 
------------------------------------------------------------------
 
Note: 95% conf. interval is based on percentile bootstrap.
 
Reference: Jun and Lee (2019), arXiv:1812.02276 [econ.EM]
 
-----------------------------------------------------------------
persuasio4ytz: Causal inference on the Average Persuasion Rate
 when outcome, instrument and instrument are observed
 along with covariates
-----------------------------------------------------------------
 
 - Binary outcome: bias_foreign_w3_p
 - Binary treatment: active_user
 - Binary instrument: treatment_vpnnl
 - Covariates (if exist): 
 - Regression model (if specified): 
 
(running aprlb on estimation sample)

Bootstrap replications (10)
----+--- 1 ---+--- 2 ---+--- 3 ---+--- 4 ---+--- 5 
..........

Bootstrap results                                          Number of obs = 88
> 6
                                                           Replications  =  1
> 0

      Command: aprlb bias_foreign_w3_p treatment_vpnnl, model("")
         coef: e(lb_coef)
(running aprub on estimation sample)

Bootstrap replications (10)
----+--- 1 ---+--- 2 ---+--- 3 ---+--- 4 ---+--- 5 
..........

Bootstrap results                                          Number of obs = 88
> 6
                                                           Replications  =  1
> 0

      Command: aprub bias_foreign_w3_p active_user treatment_vpnnl,
                   model("")
         coef: e(ub_coef)
 
------------------------------------------------------------------
               Parameter | Bound Estimate      95% Conf. Interval
-------------------------+----------------------------------------
 Average Persuasion Rate | .390769  .743874    .354638  .775678 
------------------------------------------------------------------
 
Note: 95% conf. interval is based on percentile bootstrap.
     The conf. level is one-sided for the lower and upper bounds separately.
 
Reference: Jun and Lee (2019), arXiv:1812.02276 [econ.EM]
 
-----------------------------------------------------------------
persuasio4ytz2lpr: Causal inference on the local persuasion rate
 when outcome, instrument and instrument are observed
-----------------------------------------------------------------
 
 - Binary outcome: bias_foreign_w3_p
 - Binary treatment: active_user
 - Binary instrument: treatment_vpnnl
 - Covariates (if exist): 
 - Regression model (if specified): 
 
(running lpr4ytz on estimation sample)

Bootstrap replications (10)
----+--- 1 ---+--- 2 ---+--- 3 ---+--- 4 ---+--- 5 
..........

Bootstrap results                                          Number of obs = 88
> 6
                                                           Replications  =  1
> 0

      Command: lpr4ytz bias_foreign_w3_p active_user treatment_vpnnl,
                   model("")
         coef: e(lpr_coef)
 
------------------------------------------------------------------
               Parameter | Estimate            95% Conf. Interval
-------------------------+----------------------------------------
   Local Persuasion Rate | .604069             .530883  .644514 
------------------------------------------------------------------
 
Note: 95% conf. interval is based on percentile bootstrap.
 
Reference: Jun and Lee (2019), arXiv:1812.02276 [econ.EM]
 
-----------------------------------------------------------------
persuasio4ytz: Causal inference on the Average Persuasion Rate
 when outcome, instrument and instrument are observed
 along with covariates
-----------------------------------------------------------------
 
 - Binary outcome: az_belief_media_justif_w3_p
 - Binary treatment: active_user
 - Binary instrument: treatment_vpnnl
 - Covariates (if exist): 
 - Regression model (if specified): 
 
(running aprlb on estimation sample)

Bootstrap replications (10)
----+--- 1 ---+--- 2 ---+--- 3 ---+--- 4 ---+--- 5 
..........

Bootstrap results                                          Number of obs = 88
> 6
                                                           Replications  =  1
> 0

      Command: aprlb az_belief_media_justif_w3_p treatment_vpnnl, model("")
         coef: e(lb_coef)
(running aprub on estimation sample)

Bootstrap replications (10)
----+--- 1 ---+--- 2 ---+--- 3 ---+--- 4 ---+--- 5 
..........

Bootstrap results                                          Number of obs = 88
> 6
                                                           Replications  =  1
> 0

      Command: aprub az_belief_media_justif_w3_p active_user
                   treatment_vpnnl, model("")
         coef: e(ub_coef)
 
------------------------------------------------------------------
               Parameter | Bound Estimate      95% Conf. Interval
-------------------------+----------------------------------------
 Average Persuasion Rate |  .31564  .666418    .226073  .692537 
------------------------------------------------------------------
 
Note: 95% conf. interval is based on percentile bootstrap.
     The conf. level is one-sided for the lower and upper bounds separately.
 
Reference: Jun and Lee (2019), arXiv:1812.02276 [econ.EM]
 
-----------------------------------------------------------------
persuasio4ytz2lpr: Causal inference on the local persuasion rate
 when outcome, instrument and instrument are observed
-----------------------------------------------------------------
 
 - Binary outcome: az_belief_media_justif_w3_p
 - Binary treatment: active_user
 - Binary instrument: treatment_vpnnl
 - Covariates (if exist): 
 - Regression model (if specified): 
 
(running lpr4ytz on estimation sample)

Bootstrap replications (10)
----+--- 1 ---+--- 2 ---+--- 3 ---+--- 4 ---+--- 5 
..........

Bootstrap results                                          Number of obs = 88
> 6
                                                           Replications  =  1
> 0

      Command: lpr4ytz az_belief_media_justif_w3_p active_user
                   treatment_vpnnl, model("")
         coef: e(lpr_coef)
 
------------------------------------------------------------------
               Parameter | Estimate            95% Conf. Interval
-------------------------+----------------------------------------
   Local Persuasion Rate | .486182             .433308  .556508 
------------------------------------------------------------------
 
Note: 95% conf. interval is based on percentile bootstrap.
 
Reference: Jun and Lee (2019), arXiv:1812.02276 [econ.EM]
 
-----------------------------------------------------------------
persuasio4ytz: Causal inference on the Average Persuasion Rate
 when outcome, instrument and instrument are observed
 along with covariates
-----------------------------------------------------------------
 
 - Binary outcome: bias_dom_govt_policy_t1_w3_p
 - Binary treatment: active_user
 - Binary instrument: treatment_vpnnl
 - Covariates (if exist): 
 - Regression model (if specified): 
 
(running aprlb on estimation sample)

Bootstrap replications (10)
----+--- 1 ---+--- 2 ---+--- 3 ---+--- 4 ---+--- 5 
..........

Bootstrap results                                          Number of obs = 88
> 6
                                                           Replications  =  1
> 0

      Command: aprlb bias_dom_govt_policy_t1_w3_p treatment_vpnnl,
                   model("")
         coef: e(lb_coef)
(running aprub on estimation sample)

Bootstrap replications (10)
----+--- 1 ---+--- 2 ---+--- 3 ---+--- 4 ---+--- 5 
..........

Bootstrap results                                          Number of obs = 88
> 6
                                                           Replications  =  1
> 0

      Command: aprub bias_dom_govt_policy_t1_w3_p active_user
                   treatment_vpnnl, model("")
         coef: e(ub_coef)
 
------------------------------------------------------------------
               Parameter | Bound Estimate      95% Conf. Interval
-------------------------+----------------------------------------
 Average Persuasion Rate | .749583  .886174    .698053  .944627 
------------------------------------------------------------------
 
Note: 95% conf. interval is based on percentile bootstrap.
     The conf. level is one-sided for the lower and upper bounds separately.
 
Reference: Jun and Lee (2019), arXiv:1812.02276 [econ.EM]
 
-----------------------------------------------------------------
persuasio4ytz2lpr: Causal inference on the local persuasion rate
 when outcome, instrument and instrument are observed
-----------------------------------------------------------------
 
 - Binary outcome: bias_dom_govt_policy_t1_w3_p
 - Binary treatment: active_user
 - Binary instrument: treatment_vpnnl
 - Covariates (if exist): 
 - Regression model (if specified): 
 
(running lpr4ytz on estimation sample)

Bootstrap replications (10)
----+--- 1 ---+--- 2 ---+--- 3 ---+--- 4 ---+--- 5 
..........

Bootstrap results                                          Number of obs = 88
> 6
                                                           Replications  =  1
> 0

      Command: lpr4ytz bias_dom_govt_policy_t1_w3_p active_user
                   treatment_vpnnl, model("")
         coef: e(lpr_coef)
 
------------------------------------------------------------------
               Parameter | Estimate            95% Conf. Interval
-------------------------+----------------------------------------
   Local Persuasion Rate | .868167             .789533  .970504 
------------------------------------------------------------------
 
Note: 95% conf. interval is based on percentile bootstrap.
 
Reference: Jun and Lee (2019), arXiv:1812.02276 [econ.EM]
 
-----------------------------------------------------------------
persuasio4ytz: Causal inference on the Average Persuasion Rate
 when outcome, instrument and instrument are observed
 along with covariates
-----------------------------------------------------------------
 
 - Binary outcome: bias_for_govt_policy_t1_w3_p
 - Binary treatment: active_user
 - Binary instrument: treatment_vpnnl
 - Covariates (if exist): 
 - Regression model (if specified): 
 
(running aprlb on estimation sample)

Bootstrap replications (10)
----+--- 1 ---+--- 2 ---+--- 3 ---+--- 4 ---+--- 5 
..........

Bootstrap results                                          Number of obs = 88
> 6
                                                           Replications  =  1
> 0

      Command: aprlb bias_for_govt_policy_t1_w3_p treatment_vpnnl,
                   model("")
         coef: e(lb_coef)
(running aprub on estimation sample)

Bootstrap replications (10)
----+--- 1 ---+--- 2 ---+--- 3 ---+--- 4 ---+--- 5 
..........

Bootstrap results                                          Number of obs = 88
> 6
                                                           Replications  =  1
> 0

      Command: aprub bias_for_govt_policy_t1_w3_p active_user
                   treatment_vpnnl, model("")
         coef: e(ub_coef)
 
------------------------------------------------------------------
               Parameter | Bound Estimate      95% Conf. Interval
-------------------------+----------------------------------------
 Average Persuasion Rate | .369238  .763464    .296838  .827306 
------------------------------------------------------------------
 
Note: 95% conf. interval is based on percentile bootstrap.
     The conf. level is one-sided for the lower and upper bounds separately.
 
Reference: Jun and Lee (2019), arXiv:1812.02276 [econ.EM]
 
-----------------------------------------------------------------
persuasio4ytz2lpr: Causal inference on the local persuasion rate
 when outcome, instrument and instrument are observed
-----------------------------------------------------------------
 
 - Binary outcome: bias_for_govt_policy_t1_w3_p
 - Binary treatment: active_user
 - Binary instrument: treatment_vpnnl
 - Covariates (if exist): 
 - Regression model (if specified): 
 
(running lpr4ytz on estimation sample)

Bootstrap replications (10)
----+--- 1 ---+--- 2 ---+--- 3 ---+--- 4 ---+--- 5 
..........

Bootstrap results                                          Number of obs = 88
> 6
                                                           Replications  =  1
> 0

      Command: lpr4ytz bias_for_govt_policy_t1_w3_p active_user
                   treatment_vpnnl, model("")
         coef: e(lpr_coef)
 
------------------------------------------------------------------
               Parameter | Estimate            95% Conf. Interval
-------------------------+----------------------------------------
   Local Persuasion Rate | .609532             .168709  .782845 
------------------------------------------------------------------
 
Note: 95% conf. interval is based on percentile bootstrap.
 
Reference: Jun and Lee (2019), arXiv:1812.02276 [econ.EM]

. 
.         // persuasion rates for non-panel variables
.         foreach Y in ///                   
>         vpn_purchase_wmt_record ///       A.2.1 Purchase discounted tool we
>  offered
>         vpn_purchase_yes ///              A.2.2 Purchase any tool
>         {
  2.                                 
.                 qui reg `Y'_p treatment_vpnonly treatment_nlonly treatment_
> vpnnl, r
  3.                 local persuasion_DK = _b[treatment_vpnnl]/(`share_compli
> ers'*(1-_b[_cons]))
  4.                                 
.                 persuasio apr `Y'_p active_user treatment_vpnnl ///
>                                         if (treatment_main == 1) | (treatme
> nt_main == 3), ///
>                                         method("bootstrap") nboot($nbt)
  5. 
.                 matrix pers_res = (e(apr_est) \ e(apr_ci))
  6.                 
.                 persuasio lpr `Y'_p active_user treatment_vpnnl ///
>                                         if (treatment_main == 1) | (treatme
> nt_main == 3), ///
>                                         method("bootstrap") nboot($nbt)
  7.                                         
.                 matrix CY = (`persuasion_DK' \ .)                       
  8.                 matrix pers_res = (pers_res, ( (e(lpr_est), .) \ e(lpr_c
> i)))
  9.                 matrix results = results \ ( CY , pers_res)
 10.                                 
.         }
 
-----------------------------------------------------------------
persuasio4ytz: Causal inference on the Average Persuasion Rate
 when outcome, instrument and instrument are observed
 along with covariates
-----------------------------------------------------------------
 
 - Binary outcome: vpn_purchase_wmt_record_p
 - Binary treatment: active_user
 - Binary instrument: treatment_vpnnl
 - Covariates (if exist): 
 - Regression model (if specified): 
 
(running aprlb on estimation sample)

Bootstrap replications (10)
----+--- 1 ---+--- 2 ---+--- 3 ---+--- 4 ---+--- 5 
..........

Bootstrap results                                          Number of obs = 83
> 3
                                                           Replications  =  1
> 0

      Command: aprlb vpn_purchase_wmt_record_p treatment_vpnnl, model("")
         coef: e(lb_coef)
(running aprub on estimation sample)

Bootstrap replications (10)
----+--- 1 ---+--- 2 ---+--- 3 ---+--- 4 ---+--- 5 
..........

Bootstrap results                                          Number of obs = 83
> 3
                                                           Replications  =  1
> 0

      Command: aprub vpn_purchase_wmt_record_p active_user treatment_vpnnl,
                   model("")
         coef: e(ub_coef)
 
------------------------------------------------------------------
               Parameter | Bound Estimate      95% Conf. Interval
-------------------------+----------------------------------------
 Average Persuasion Rate | .226652  .641509    .193103  .690722 
------------------------------------------------------------------
 
Note: 95% conf. interval is based on percentile bootstrap.
     The conf. level is one-sided for the lower and upper bounds separately.
 
Reference: Jun and Lee (2019), arXiv:1812.02276 [econ.EM]
 
-----------------------------------------------------------------
persuasio4ytz2lpr: Causal inference on the local persuasion rate
 when outcome, instrument and instrument are observed
-----------------------------------------------------------------
 
 - Binary outcome: vpn_purchase_wmt_record_p
 - Binary treatment: active_user
 - Binary instrument: treatment_vpnnl
 - Covariates (if exist): 
 - Regression model (if specified): 
 
(running lpr4ytz on estimation sample)

Bootstrap replications (10)
----+--- 1 ---+--- 2 ---+--- 3 ---+--- 4 ---+--- 5 
..........

Bootstrap results                                          Number of obs = 83
> 3
                                                           Replications  =  1
> 0

      Command: lpr4ytz vpn_purchase_wmt_record_p active_user
                   treatment_vpnnl, model("")
         coef: e(lpr_coef)
 
------------------------------------------------------------------
               Parameter | Estimate            95% Conf. Interval
-------------------------+----------------------------------------
   Local Persuasion Rate | .387344             .312485  .440273 
------------------------------------------------------------------
 
Note: 95% conf. interval is based on percentile bootstrap.
 
Reference: Jun and Lee (2019), arXiv:1812.02276 [econ.EM]
 
-----------------------------------------------------------------
persuasio4ytz: Causal inference on the Average Persuasion Rate
 when outcome, instrument and instrument are observed
 along with covariates
-----------------------------------------------------------------
 
 - Binary outcome: vpn_purchase_yes_p
 - Binary treatment: active_user
 - Binary instrument: treatment_vpnnl
 - Covariates (if exist): 
 - Regression model (if specified): 
 
(running aprlb on estimation sample)

Bootstrap replications (10)
----+--- 1 ---+--- 2 ---+--- 3 ---+--- 4 ---+--- 5 
..........

Bootstrap results                                          Number of obs = 88
> 6
                                                           Replications  =  1
> 0

      Command: aprlb vpn_purchase_yes_p treatment_vpnnl, model("")
         coef: e(lb_coef)
(running aprub on estimation sample)

Bootstrap replications (10)
----+--- 1 ---+--- 2 ---+--- 3 ---+--- 4 ---+--- 5 
..........

Bootstrap results                                          Number of obs = 88
> 6
                                                           Replications  =  1
> 0

      Command: aprub vpn_purchase_yes_p active_user treatment_vpnnl,
                   model("")
         coef: e(ub_coef)
 
------------------------------------------------------------------
               Parameter | Bound Estimate      95% Conf. Interval
-------------------------+----------------------------------------
 Average Persuasion Rate | .495432   .85034    .452448  .880579 
------------------------------------------------------------------
 
Note: 95% conf. interval is based on percentile bootstrap.
     The conf. level is one-sided for the lower and upper bounds separately.
 
Reference: Jun and Lee (2019), arXiv:1812.02276 [econ.EM]
 
-----------------------------------------------------------------
persuasio4ytz2lpr: Causal inference on the local persuasion rate
 when outcome, instrument and instrument are observed
-----------------------------------------------------------------
 
 - Binary outcome: vpn_purchase_yes_p
 - Binary treatment: active_user
 - Binary instrument: treatment_vpnnl
 - Covariates (if exist): 
 - Regression model (if specified): 
 
(running lpr4ytz on estimation sample)

Bootstrap replications (10)
----+--- 1 ---+--- 2 ---+--- 3 ---+--- 4 ---+--- 5 
..........

Bootstrap results                                          Number of obs = 88
> 6
                                                           Replications  =  1
> 0

      Command: lpr4ytz vpn_purchase_yes_p active_user treatment_vpnnl,
                   model("")
         coef: e(lpr_coef)
 
------------------------------------------------------------------
               Parameter | Estimate            95% Conf. Interval
-------------------------+----------------------------------------
   Local Persuasion Rate | .768002             .734465  .827783 
------------------------------------------------------------------
 
Note: 95% conf. interval is based on percentile bootstrap.
 
Reference: Jun and Lee (2019), arXiv:1812.02276 [econ.EM]

.         
.         matrix results = results[2..23,1..5] 

.         matrix results = results[1..4, 1..5] \ results[19..22, 1..5] \ resu
> lts[5..18, 1..5]

.         
.         matrix results = 100*results

.         
.         frmttable using "$Persuasion/results/table2", statmat(results) tex 
> replace sdec(1) ///
>         title("Table 2") ///
>         ctitles("CY19", APR (LB), APR (UB), LPR, "")
(note: file /Users/sokbaelee/Dropbox/Persuasion/JPE/Replication Files/results
> /table2.tex not found)
                                   Table 2
                  -----------------------------------------
                    CY19   APR (LB)  APR (UB)  LPR        
                  -----------------------------------------
                    35.5     21.9      68.4    41.0       
                             15.8      72.1    38.6  49.6 
                    168.5    55.5      76.6    70.4       
                             51.4      80.6    65.2  76.8 
                    45.6     22.7      64.2    38.7       
                             19.3      69.1    31.2  44.0 
                    101.2    49.5      85.0    76.8       
                             45.2      88.1    73.4  82.8 
                    121.7    49.3      82.1    73.4       
                             45.2      83.6    70.0  77.8 
                    158.1    62.9      85.8    81.6       
                             60.6      87.3    79.4  87.2 
                    82.3     35.1      73.5    57.0       
                             27.2      78.4    52.5  62.5 
                    114.6    39.1      74.4    60.4       
                             35.5      77.6    53.1  64.5 
                    77.6     31.6      66.6    48.6       
                             22.6      69.3    43.3  55.7 
                    192.7    75.0      88.6    86.8       
                             69.8      94.5    79.0  97.1 
                    54.1     36.9      76.3    61.0       
                             29.7      82.7    16.9  78.3 
                  -----------------------------------------


. 
end of do-file

. 
. * Effects of Political News: Revisting Gerber, Karlan, and Bergan (2009) 
. *   TABLE 3. Summary Statistics of the GKB Data
. do "$Persuasion/scripts/table3.do"

. ************
. * SCRIPT:   table3.do
. * PURPOSE:  Creates Table 3
. *
. * ACKNOWLEDGMENT
. *       The orginal dataset "publicdata.dta" is from Gerber, Karlan, and Be
> rgan (2009, AEJ Applied).
. ************
. 
. use "$Persuasion/data/GerberKarlanBergan2009/publicdata.dta", clear

. 
. **************************************
. ****       Setup                 *****
. **************************************
. 
. drop if times==1        /* drop observations with The Washing Times treatme
> nt */
(950 observations deleted)

. 
. 
. gen data_avail = 0      /* criterion to be included in the estimation sampl
> e */

. replace data_avail = 1 if survey == 1 & !missing(voteddem_all) & !missing(r
> eadsome) 
(701 real changes made)

. 
. keep if data_avail==1         /* keep observations in the estimation sample
>  */
(1,696 observations deleted)

. 
. *** two way tables by treatment ***
. tab voteddem_all readsome if post == 1, matcell(treat)

 Voted for |
  Democrat |
   in 2005 |
       Gub |
 election, | Reads paper at least
  set to 0 |   several times per
if did not |         week
      vote |         0          1 |     Total
-----------+----------------------+----------
         0 |        94         93 |       187 
         1 |        31         68 |        99 
-----------+----------------------+----------
     Total |       125        161 |       286 

. 
. frmttable using "$Persuasion/results/table3", statmat(treat) tex replace sd
> ec(0) ///
>         title("Table 3: The Washington Post (Z = 1)") ///
>         ctitles("", "T=0", "T=1" )  ///
>         rtitles("Y=0" \ "Y=1" )

                    Table 3: The Washington Post (Z = 1)
                              -----------------
                                     T=0  T=1 
                              -----------------
                               Y=0   94   93  
                               Y=1   31   68  
                              -----------------


. 
. tab voteddem_all readsome if post == 0, matcell(control)

 Voted for |
  Democrat |
   in 2005 |
       Gub |
 election, | Reads paper at least
  set to 0 |   several times per
if did not |         week
      vote |         0          1 |     Total
-----------+----------------------+----------
         0 |       162        130 |       292 
         1 |        46         77 |       123 
-----------+----------------------+----------
     Total |       208        207 |       415 

. 
. frmttable using "$Persuasion/results/table3", statmat(control) tex replace 
> sdec(0) ///
>         title("Table 3: Control (Z = 0)") ///
>         ctitles("", "T=0", "T=1" )  ///
>         rtitles("Y=0" \ "Y=1" ) 

                          Table 3: Control (Z = 0)
                              -----------------
                                     T=0  T=1 
                              -----------------
                               Y=0   162  130 
                               Y=1   46   77  
                              -----------------


. 
end of do-file

. *   TABLE 4. Estimates of the Key Parameters
. do "$Persuasion/scripts/table4.do"

. ************
. * SCRIPT:   table4.do
. * PURPOSE:  Creates Table 4
. *
. * ACKNOWLEDGMENT
. *       The orginal dataset "publicdata.dta" is from Gerber, Karlan, and Be
> rgan (2009, AEJ Applied).
. ************
. 
. use "$Persuasion/data/GerberKarlanBergan2009/publicdata.dta", clear

. 
. **************************************
. ****       Setup                 *****
. **************************************
. 
. drop if times==1        /* drop observations with The Washing Times treatme
> nt */
(950 observations deleted)

. 
. 
. gen data_avail = 0      /* criterion to be included in the estimation sampl
> e */

. replace data_avail = 1 if survey == 1 & !missing(voteddem_all) & !missing(r
> eadsome) 
(701 real changes made)

. 
. keep if data_avail==1         /* keep observations in the estimation sample
>  */
(1,696 observations deleted)

. 
. gen   case_id = _n           /* generate Case ID */

. gen outcome = voteddem_all   /* Y_i */

. gen   treat = readsome       /* T_i */

. gen   instr = post           /* Z_i */  

. 
. *** generate variables used in estimating persuation rates ***
. 
. gen a_u = outcome*treat + (1-treat)

. gen b_l = outcome*(1-treat)

. 
. gen a_u2 = outcome + (1-treat)

. gen b_l2 = outcome - treat

. 
. *** specify a variety of critical values for different purposes ***
. 
. scalar alpha_level = 0.2     /* the (1-alpha_level) confidence interval */ 
>  

. scalar cv_cns1 = invnormal(1-alpha_level)   /* one-sided critical value */

. scalar cv_cns2 = invnormal(1-alpha_level/2) /* two-sided critical value */

. 
. scalar pretest_level = 0.001

. scalar cv_cns_pretest = invnormal(1-pretest_level/4) 

. /* note that pretest_level is divided by 2 since we pretest two hypotheses 
> */
. 
. scalar adjusted = alpha_level-pretest_level

. scalar cv_cns1_adj = invnormal(1-adjusted)   /* one-sided critical value af
> ter pretesting */

. scalar cv_cns2_adj = invnormal(1-adjusted/2) /* two-sided critical value af
> ter pretesting */

. 
. *************************
. ****  ITT Analysis  *****
. *************************
. 
. /* ITT estimate on outcome */
. 
. reg outcome instr, robust

Linear regression                               Number of obs     =        70
> 1
                                                F(1, 699)         =       1.9
> 1
                                                Prob > F          =     0.167
> 5
                                                R-squared         =     0.002
> 8
                                                Root MSE          =     .4652
> 1

-----------------------------------------------------------------------------
> -
             |               Robust
     outcome | Coefficient  std. err.      t    P>|t|     [95% conf. interval
> ]
-------------+---------------------------------------------------------------
> -
       instr |   .0497683   .0360219     1.38   0.168    -.0209558    .120492
> 4
       _cons |   .2963855   .0224488    13.20   0.000     .2523105    .340460
> 6
-----------------------------------------------------------------------------
> -

. 
. scalar itt_coef = _b[instr]

. scalar itt_se = _se[instr]

. 
. scalar itt_lb = max(0,itt_coef - cv_cns2*itt_se)

. scalar itt_ub = min(1,itt_coef + cv_cns2*itt_se)

. scalar list itt_lb itt_coef itt_ub
    itt_lb =  .00360435
  itt_coef =   .0497683
    itt_ub =  .09593226

. 
. *** saving results ***
. matrix results =  (itt_lb, itt_coef, itt_coef, itt_ub)

. 
. /* ITT estimate on treatment */
. 
. reg treat instr, robust

Linear regression                               Number of obs     =        70
> 1
                                                F(1, 699)         =       2.8
> 0
                                                Prob > F          =     0.094
> 4
                                                R-squared         =     0.004
> 0
                                                Root MSE          =     .4990
> 9

-----------------------------------------------------------------------------
> -
             |               Robust
       treat | Coefficient  std. err.      t    P>|t|     [95% conf. interval
> ]
-------------+---------------------------------------------------------------
> -
       instr |   .0641419   .0382997     1.67   0.094    -.0110544    .139338
> 1
       _cons |   .4987952   .0245791    20.29   0.000     .4505376    .547052
> 8
-----------------------------------------------------------------------------
> -

. 
. scalar itt_coef_treat = _b[instr]

. scalar itt_se_treat = _se[instr]

. 
. scalar itt_lb = max(0,itt_coef_treat - cv_cns2*itt_se_treat)

. scalar itt_ub = min(1,itt_coef_treat + cv_cns2*itt_se_treat)

. scalar list itt_lb itt_coef itt_ub
    itt_lb =  .01505884
  itt_coef =   .0497683
    itt_ub =  .11322493

. 
. *** saving results ***
. matrix results = results \ (itt_lb, itt_coef_treat, itt_coef_treat, itt_ub)

.  
. 
. **********************************************************************
. ****  Average persuation rate when (Y_i, T_i, Z_i) are observed  *****
. **********************************************************************
. 
. reg outcome instr, robust

Linear regression                               Number of obs     =        70
> 1
                                                F(1, 699)         =       1.9
> 1
                                                Prob > F          =     0.167
> 5
                                                R-squared         =     0.002
> 8
                                                Root MSE          =     .4652
> 1

-----------------------------------------------------------------------------
> -
             |               Robust
     outcome | Coefficient  std. err.      t    P>|t|     [95% conf. interval
> ]
-------------+---------------------------------------------------------------
> -
       instr |   .0497683   .0360219     1.38   0.168    -.0209558    .120492
> 4
       _cons |   .2963855   .0224488    13.20   0.000     .2523105    .340460
> 6
-----------------------------------------------------------------------------
> -

. 
. /* estimate of the lower bound for average persuation rate */ 
. nlcom _b[instr]/(1-_b[_cons])    

       _nl_1: _b[instr]/(1-_b[_cons])

-----------------------------------------------------------------------------
> -
     outcome | Coefficient  Std. err.      z    P>|z|     [95% conf. interval
> ]
-------------+---------------------------------------------------------------
> -
       _nl_1 |   .0707323   .0498204     1.42   0.156    -.0269139    .168378
> 6
-----------------------------------------------------------------------------
> -

. 
. matrix  lower_bound_est = r(b)

. matrix lower_bound_avar = r(V)

. scalar lower_bound_coef = lower_bound_est[1,1]

. scalar   lower_bound_se = sqrt(lower_bound_avar[1,1])

. 
. reg a_u instr 

      Source |       SS           df       MS      Number of obs   =       70
> 1
-------------+----------------------------------   F(1, 699)       =      0.1
> 1
       Model |  .024064716         1  .024064716   Prob > F        =    0.739
> 5
    Residual |   152.03585       699  .217504792   R-squared       =    0.000
> 2
-------------+----------------------------------   Adj R-squared   =   -0.001
> 3
       Total |  152.059914       700  .217228449   Root MSE        =    .4663
> 7

-----------------------------------------------------------------------------
> -
         a_u | Coefficient  Std. err.      t    P>|t|     [95% conf. interval
> ]
-------------+---------------------------------------------------------------
> -
       instr |  -.0119218   .0358415    -0.33   0.740    -.0822917    .058448
> 1
       _cons |    .686747   .0228934    30.00   0.000     .6417989    .731695
> 1
-----------------------------------------------------------------------------
> -

. est store a_u_reg

. reg b_l instr 

      Source |       SS           df       MS      Number of obs   =       70
> 1
-------------+----------------------------------   F(1, 699)       =      0.0
> 1
       Model |   .00101778         1   .00101778   Prob > F        =    0.918
> 9
    Residual |   68.541065       699  .098055887   R-squared       =    0.000
> 0
-------------+----------------------------------   Adj R-squared   =   -0.001
> 4
       Total |  68.5420827       700  .097917261   Root MSE        =    .3131
> 4

-----------------------------------------------------------------------------
> -
         b_l | Coefficient  Std. err.      t    P>|t|     [95% conf. interval
> ]
-------------+---------------------------------------------------------------
> -
       instr |  -.0024518   .0240652    -0.10   0.919    -.0497004    .044796
> 9
       _cons |   .1108434   .0153714     7.21   0.000     .0806638     .14102
> 3
-----------------------------------------------------------------------------
> -

. est store b_l_reg

. suest a_u_reg b_l_reg, vce(cluster case_id) 

Simultaneous results for a_u_reg, b_l_reg                  Number of obs = 70
> 1

                              (Std. err. adjusted for 701 clusters in case_id
> )
-----------------------------------------------------------------------------
> -
             |               Robust
             | Coefficient  std. err.      z    P>|z|     [95% conf. interval
> ]
-------------+---------------------------------------------------------------
> -
a_u_reg_mean |
       instr |  -.0119218   .0358813    -0.33   0.740     -.082248    .058404
> 3
       _cons |    .686747   .0227841    30.14   0.000      .642091     .73140
> 3
-------------+---------------------------------------------------------------
> -
a_u_reg_ln~r |
       _cons |  -1.525534   .0294472   -51.81   0.000     -1.58325   -1.46781
> 9
-------------+---------------------------------------------------------------
> -
b_l_reg_mean |
       instr |  -.0024518   .0240046    -0.10   0.919    -.0494999    .044596
> 4
       _cons |   .1108434   .0154216     7.19   0.000     .0806176    .141069
> 2
-------------+---------------------------------------------------------------
> -
b_l_reg_ln~r |
       _cons |  -2.322218   .0940493   -24.69   0.000    -2.506551   -2.13788
> 4
-----------------------------------------------------------------------------
> -

. 
. /* estimate of the uppe bound for average persuation rate */  
. nlcom ([a_u_reg_mean]_cons + [a_u_reg_mean]instr - [b_l_reg_mean]_cons)/(1-
> [b_l_reg_mean]_cons)

       _nl_1: ([a_u_reg_mean]_cons + [a_u_reg_mean]instr - [b_l_reg_mean]_con
> s)/(1-[b_l_reg_mean]_cons)

-----------------------------------------------------------------------------
> -
             | Coefficient  Std. err.      z    P>|z|     [95% conf. interval
> ]
-------------+---------------------------------------------------------------
> -
       _nl_1 |   .6342885   .0318135    19.94   0.000     .5719352    .696641
> 7
-----------------------------------------------------------------------------
> -

. 
. matrix  upper_bound_est = r(b)

. matrix upper_bound_avar = r(V)

. scalar upper_bound_coef = upper_bound_est[1,1]

. scalar   upper_bound_se = sqrt(upper_bound_avar[1,1])

. 
. /* compute the critical value using Stoye (2009) */  
. scalar correction_term = (upper_bound_coef-lower_bound_coef)/max(upper_boun
> d_se,lower_bound_se)

. egen cvtmp = fill("0 0.01")

. replace cvtmp = . if cvtmp > cv_cns2+0.01
(571 real changes made, 571 to missing)

. gen difftmp = abs(normal(cvtmp + correction_term) - normal(-cvtmp) - (1-alp
> ha_level))
(571 missing values generated)

. replace cvtmp = . if difftmp > 0.002
(129 real changes made, 129 to missing)

. sum cvtmp

    Variable |        Obs        Mean    Std. dev.       Min        Max
-------------+---------------------------------------------------------
       cvtmp |          1    .8399995           .   .8399995   .8399995

. scalar cv_cns_stoye = r(mean)

. drop cvtmp difftmp

. 
. scalar lower_bound_end = max(0,lower_bound_coef - cv_cns_stoye*lower_bound_
> se)

. scalar upper_bound_end = min(1,upper_bound_coef + cv_cns_stoye*upper_bound_
> se)

. 
. scalar list lower_bound_end lower_bound_coef upper_bound_coef upper_bound_e
> nd
lower_bound_end =   .0288832
lower_bound_coef =  .07073235
upper_bound_coef =  .63428848
upper_bound_end =  .66101178

. 
. 
. *** saving results ***
. matrix results = results \ (lower_bound_end, lower_bound_coef, upper_bound_
> coef, upper_bound_end) 

. 
. 
. ***************************************************************************
> *************
. ****  Average persuation rate when (Y_i,T_i) and (Y_i,Z_i) are separately o
> bserved *****
. ***************************************************************************
> *************
. 
. reg a_u2 instr, robust 

Linear regression                               Number of obs     =        70
> 1
                                                F(1, 699)         =       0.0
> 9
                                                Prob > F          =     0.763
> 6
                                                R-squared         =     0.000
> 1
                                                Root MSE          =     .6209
> 9

-----------------------------------------------------------------------------
> -
             |               Robust
        a_u2 | Coefficient  std. err.      t    P>|t|     [95% conf. interval
> ]
-------------+---------------------------------------------------------------
> -
       instr |  -.0143736   .0477635    -0.30   0.764    -.1081507    .079403
> 6
       _cons |   .7975904   .0304276    26.21   0.000     .7378499    .857330
> 8
-----------------------------------------------------------------------------
> -

. 
. lincom _cons + instr

 ( 1)  instr + _cons = 0

-----------------------------------------------------------------------------
> -
        a_u2 | Coefficient  Std. err.      t    P>|t|     [95% conf. interval
> ]
-------------+---------------------------------------------------------------
> -
         (1) |   .7832168   .0368173    21.27   0.000      .710931    .855502
> 6
-----------------------------------------------------------------------------
> -

. scalar coef_a_u2 = r(estimate)

. scalar   se_a_u2 = r(se)

. 
. reg b_l2 instr, robust 

Linear regression                               Number of obs     =        70
> 1
                                                F(1, 699)         =       0.0
> 9
                                                Prob > F          =     0.763
> 6
                                                R-squared         =     0.000
> 1
                                                Root MSE          =     .6209
> 9

-----------------------------------------------------------------------------
> -
             |               Robust
        b_l2 | Coefficient  std. err.      t    P>|t|     [95% conf. interval
> ]
-------------+---------------------------------------------------------------
> -
       instr |  -.0143736   .0477635    -0.30   0.764    -.1081507    .079403
> 6
       _cons |  -.2024096   .0304276    -6.65   0.000    -.2621501   -.142669
> 2
-----------------------------------------------------------------------------
> -

. scalar coef_b_l2 = _b[_cons]

. matrix      avar = e(V) 

. scalar   se_b_l2 = sqrt(el(avar,2,2))

. 
. scalar upper_bound2_coef = (min(1,coef_a_u2) - max(0,coef_b_l2))/(1-max(0,c
> oef_b_l2))

. 
. 
. *** pre-testing stage ***
. 
. scalar a_u2_pretest = coef_a_u2 + cv_cns_pretest*se_a_u2

. scalar b_l2_pretest = coef_b_l2 + cv_cns_pretest*se_b_l2

. 
. *** N.B. It turns out that (a_u2_pretest < 1) & (b_l2_pretest <= 0) ***
.  
. scalar upper_bound2_se = se_a_u2

. 
. /* compute the critical value using Stoye (2009) again */  
. scalar correction_term = (upper_bound2_coef-lower_bound_coef)/max(upper_bou
> nd2_se,lower_bound_se)

. egen cvtmp = fill("0 0.01")

. replace cvtmp = . if cvtmp > cv_cns2_adj+0.01
(571 real changes made, 571 to missing)

. gen difftmp = abs(normal(cvtmp + correction_term) - normal(-cvtmp) - (1-adj
> usted))
(571 missing values generated)

. replace cvtmp = . if difftmp > 0.002
(128 real changes made, 128 to missing)

. sum cvtmp

    Variable |        Obs        Mean    Std. dev.       Min        Max
-------------+---------------------------------------------------------
       cvtmp |          2    .8449995    .0070711   .8399995   .8499995

. scalar cv_cns2_stoye = r(mean)

. 
. scalar lower_bound2_end = max(0,lower_bound_coef - cv_cns2_stoye*lower_boun
> d_se)

. scalar upper_bound2_end = min(1,upper_bound2_coef + cv_cns2_stoye*upper_bou
> nd2_se)

. 
. scalar list lower_bound2_end lower_bound_coef upper_bound2_coef upper_bound
> 2_end
lower_bound2_end =   .0286341
lower_bound_coef =  .07073235
upper_bound2_coef =  .78321678
upper_bound2_end =  .81432741

. 
. 
. *** saving results ***
. matrix results = results \ (lower_bound2_end, lower_bound_coef, upper_bound
> 2_coef, upper_bound2_end) 

. 
. 
. ****************************************************************
. ****  Average persuation rate when (Y_i,Z_i) are observed  *****
. ****************************************************************
. 
. scalar lower_bound3_end = max(0,lower_bound_coef - cv_cns1*lower_bound_se)

. scalar list lower_bound3_end lower_bound_coef
lower_bound3_end =  .02880241
lower_bound_coef =  .07073235

. 
. 
. *** saving results ***
. matrix results = results \ (lower_bound3_end, lower_bound_coef, 1, 1) 

. 
. 
. **********************************************************************
. ****  Local persuation rate when (Y_i, T_i, Z_i) are observed    *****
. **********************************************************************
. 
. reg outcome instr 

      Source |       SS           df       MS      Number of obs   =       70
> 1
-------------+----------------------------------   F(1, 699)       =      1.9
> 4
       Model |  .419374282         1  .419374282   Prob > F        =    0.164
> 3
    Residual |  151.275348       699  .216416806   R-squared       =    0.002
> 8
-------------+----------------------------------   Adj R-squared   =    0.001
> 3
       Total |  151.694722       700  .216706745   Root MSE        =    .4652
> 1

-----------------------------------------------------------------------------
> -
     outcome | Coefficient  Std. err.      t    P>|t|     [95% conf. interval
> ]
-------------+---------------------------------------------------------------
> -
       instr |   .0497683   .0357518     1.39   0.164    -.0204254     .11996
> 2
       _cons |   .2963855   .0228361    12.98   0.000       .25155    .341221
> 1
-----------------------------------------------------------------------------
> -

. est store num_reg

. 
. gen den_lpr = (1-outcome)*(1-treat)

. reg den_lpr instr 

      Source |       SS           df       MS      Number of obs   =       70
> 1
-------------+----------------------------------   F(1, 699)       =      2.7
> 8
       Model |  .644358113         1  .644358113   Prob > F        =    0.095
> 7
    Residual |  161.866341       699  .231568442   R-squared       =    0.004
> 0
-------------+----------------------------------   Adj R-squared   =    0.002
> 5
       Total |  162.510699       700  .232158141   Root MSE        =    .4812
> 2

-----------------------------------------------------------------------------
> -
     den_lpr | Coefficient  Std. err.      t    P>|t|     [95% conf. interval
> ]
-------------+---------------------------------------------------------------
> -
       instr |  -.0616901   .0369821    -1.67   0.096    -.1342994    .010919
> 2
       _cons |   .3903614   .0236219    16.53   0.000      .343983    .436739
> 9
-----------------------------------------------------------------------------
> -

. est store den_reg

. 
. suest num_reg den_reg, vce(cluster case_id) 

Simultaneous results for num_reg, den_reg                  Number of obs = 70
> 1

                              (Std. err. adjusted for 701 clusters in case_id
> )
-----------------------------------------------------------------------------
> -
             |               Robust
             | Coefficient  std. err.      z    P>|z|     [95% conf. interval
> ]
-------------+---------------------------------------------------------------
> -
num_reg_mean |
       instr |   .0497683   .0359962     1.38   0.167    -.0207829    .120319
> 5
       _cons |   .2963855   .0224327    13.21   0.000     .2524182    .340352
> 9
-------------+---------------------------------------------------------------
> -
num_reg_ln~r |
       _cons |  -1.530549   .0298911   -51.20   0.000    -1.589135   -1.47196
> 4
-------------+---------------------------------------------------------------
> -
den_reg_mean |
       instr |  -.0616901   .0366995    -1.68   0.093    -.1336199    .010239
> 7
       _cons |   .3903614   .0239638    16.29   0.000     .3433933    .437329
> 6
-------------+---------------------------------------------------------------
> -
den_reg_ln~r |
       _cons |   -1.46288   .0215406   -67.91   0.000    -1.505099   -1.42066
> 1
-----------------------------------------------------------------------------
> -

. nlcom [num_reg_mean]instr/(-[den_reg_mean]instr)

       _nl_1: [num_reg_mean]instr/(-[den_reg_mean]instr)

-----------------------------------------------------------------------------
> -
             | Coefficient  Std. err.      z    P>|z|     [95% conf. interval
> ]
-------------+---------------------------------------------------------------
> -
       _nl_1 |   .8067468   .5324903     1.52   0.130    -.2369151    1.85040
> 9
-----------------------------------------------------------------------------
> -

. 
. matrix  lpr_est = r(b)

. matrix lpr_avar = r(V)

. scalar lpr_coef = lpr_est[1,1]

. scalar   lpr_se = sqrt(lpr_avar[1,1])

. 
. 
. scalar lpr_lb = max(0,lpr_coef - cv_cns2*lpr_se)

. scalar lpr_ub = min(1,lpr_coef + cv_cns2*lpr_se)

. scalar list lpr_lb lpr_coef lpr_ub
    lpr_lb =  .12433299
  lpr_coef =  .80674679
    lpr_ub =          1

. 
. *** saving results ***
. matrix results = results \ (lpr_lb, lpr_coef,  lpr_coef, lpr_ub) 

. 
. ***************************************************************************
> *************
. ****  Local persuation rate when (Y_i,T_i) and (Y_i,Z_i) are separately obs
> erved   *****
. ***************************************************************************
> *************
. 
. ** theta^*_L = max(LATE,theta_L) 
. 
. ivregress 2sls outcome (treat = instr), robust 

Instrumental variables 2SLS regression            Number of obs   =        70
> 1
                                                  Wald chi2(1)    =       1.3
> 8
                                                  Prob > chi2     =     0.240
> 9
                                                  R-squared       =          
> .
                                                  Root MSE        =     .5509
> 4

-----------------------------------------------------------------------------
> -
             |               Robust
     outcome | Coefficient  std. err.      z    P>|z|     [95% conf. interval
> ]
-------------+---------------------------------------------------------------
> -
       treat |   .7759096   .6615744     1.17   0.241    -.5207524    2.07257
> 2
       _cons |  -.0906344   .3476791    -0.26   0.794     -.772073    .590804
> 1
-----------------------------------------------------------------------------
> -
Instrumented: treat
 Instruments: instr

. scalar lpr2_coef = _b[treat]

. matrix      avar = e(V) 

. scalar   lpr2_se = sqrt(el(avar,1,1))

. 
. 
. scalar lpr_lb_LATE = max(0,lpr2_coef - cv_cns2*lpr2_se)

. scalar lpr_lb_LBND = max(0,lower_bound_coef - cv_cns2*lower_bound_se)

. 
. scalar lpr2_max = max(lpr2_coef, lower_bound_coef)

. scalar lpr2_lb = max(lpr_lb_LATE, lpr_lb_LBND)

. 
. scalar list lpr2_lb lpr2_max 
   lpr2_lb =  .00688488
  lpr2_max =  .77590963

. 
. *** saving results ***
. matrix results = results \ (lpr2_lb, lpr2_max, 1, 1) 

. 
. ****************************************************************
. ****  Local persuation rate when (Y_i,Z_i) are observed    *****
. ****************************************************************
. 
. scalar lpr3_lb = lower_bound3_end 

. scalar list lpr3_lb lower_bound_coef
   lpr3_lb =  .02880241
lower_bound_coef =  .07073235

. 
. *** saving results ***
. matrix results = results \ (lpr3_lb, lower_bound_coef, 1, 1) 

. 
. *******************
. ****  LATE    *****
. *******************
. 
. scalar lpr_ub_LATE = min(1,lpr2_coef + cv_cns2*lpr2_se)

. scalar list lpr_lb_LATE lpr2_coef lpr_ub_LATE
lpr_lb_LATE =          0
 lpr2_coef =  .77590963
lpr_ub_LATE =          1

. 
. *** saving results ***
. matrix results = results \ (lpr_lb_LATE, lpr2_coef,  lpr2_coef, lpr_ub_LATE
> ) 

. 
. ************************************************
. ****  LATE  when (Y_i,Z_i) are observed    *****
. ************************************************
. 
. scalar lpr3_lb_LATE = max(0,itt_coef - cv_cns1*itt_se)

. scalar list lpr3_lb_LATE itt_coef
lpr3_lb_LATE =  .01945148
  itt_coef =   .0497683

. 
. *** saving results ***
. matrix results = results \ (lpr3_lb_LATE, itt_coef,  1, 1) 

. 
. **********************************************************************
. ****  Average persuation rate                                    *****
. ****    conditional on voting without persuasive treatement      *****
. ****    when (Y_i, T_i, Z_i) are observed                        *****
. **********************************************************************
. 
. 
. gen yt00 = (1-voted)*(1-treat)
(1 missing value generated)

. 
. reg outcome instr

      Source |       SS           df       MS      Number of obs   =       70
> 1
-------------+----------------------------------   F(1, 699)       =      1.9
> 4
       Model |  .419374282         1  .419374282   Prob > F        =    0.164
> 3
    Residual |  151.275348       699  .216416806   R-squared       =    0.002
> 8
-------------+----------------------------------   Adj R-squared   =    0.001
> 3
       Total |  151.694722       700  .216706745   Root MSE        =    .4652
> 1

-----------------------------------------------------------------------------
> -
     outcome | Coefficient  Std. err.      t    P>|t|     [95% conf. interval
> ]
-------------+---------------------------------------------------------------
> -
       instr |   .0497683   .0357518     1.39   0.164    -.0204254     .11996
> 2
       _cons |   .2963855   .0228361    12.98   0.000       .25155    .341221
> 1
-----------------------------------------------------------------------------
> -

. est store multi_num_reg

. 
. reg yt00 instr

      Source |       SS           df       MS      Number of obs   =       70
> 0
-------------+----------------------------------   F(1, 698)       =      0.0
> 0
       Model |  .000145989         1  .000145989   Prob > F        =    0.975
> 6
    Residual |   108.96414       698  .156109083   R-squared       =    0.000
> 0
-------------+----------------------------------   Adj R-squared   =   -0.001
> 4
       Total |  108.964286       699   .15588596   Root MSE        =    .3951
> 1

-----------------------------------------------------------------------------
> -
        yt00 | Coefficient  Std. err.      t    P>|t|     [95% conf. interval
> ]
-------------+---------------------------------------------------------------
> -
       instr |   -.000929   .0303795    -0.03   0.976    -.0605751     .05871
> 7
       _cons |   .1932367   .0194184     9.95   0.000     .1551112    .231362
> 2
-----------------------------------------------------------------------------
> -

. est store multi_den_reg

. 
. suest multi_num_reg multi_den_reg, vce(cluster case_id) 

Simultaneous results for multi_num_reg, multi_den_reg

                                                           Number of obs = 70
> 1

                              (Std. err. adjusted for 701 clusters in case_id
> )
-----------------------------------------------------------------------------
> -
             |               Robust
             | Coefficient  std. err.      z    P>|z|     [95% conf. interval
> ]
-------------+---------------------------------------------------------------
> -
multi_num_~n |
       instr |   .0497683   .0359962     1.38   0.167    -.0207829    .120319
> 5
       _cons |   .2963855   .0224327    13.21   0.000     .2524182    .340352
> 9
-------------+---------------------------------------------------------------
> -
multi_num_~r |
       _cons |  -1.530549   .0298911   -51.20   0.000    -1.589135   -1.47196
> 4
-------------+---------------------------------------------------------------
> -
multi_den_~n |
       instr |   -.000929   .0303475    -0.03   0.976     -.060409     .05855
> 1
       _cons |   .1932367    .019419     9.95   0.000     .1551761    .231297
> 3
-------------+---------------------------------------------------------------
> -
multi_den_~r |
       _cons |    -1.8572   .0587214   -31.63   0.000    -1.972292   -1.74210
> 8
-----------------------------------------------------------------------------
> -

. *** estimating p_1(1|1) + p_0(1,0|0)
. lincom [multi_num_reg_mean]instr+[multi_num_reg_mean]_cons+[multi_den_reg_m
> ean]_cons

 ( 1)  [multi_num_reg_mean]instr + [multi_num_reg_mean]_cons +
       [multi_den_reg_mean]_cons = 0

-----------------------------------------------------------------------------
> -
             | Coefficient  Std. err.      z    P>|z|     [95% conf. interval
> ]
-------------+---------------------------------------------------------------
> -
         (1) |   .5393906   .0341994    15.77   0.000      .472361    .606420
> 1
-----------------------------------------------------------------------------
> -

.         
. scalar multi_pretest_coef = r(estimate)

. scalar multi_pretest_se = r(se) 

.         
. *** pre-testing stage ***
. scalar multi_pretest = multi_pretest_coef + cv_cns_pretest*multi_pretest_se

. 
. 
. *** estimating the lower bound  
. suest multi_num_reg multi_den_reg, vce(cluster case_id) 

Simultaneous results for multi_num_reg, multi_den_reg

                                                           Number of obs = 70
> 1

                              (Std. err. adjusted for 701 clusters in case_id
> )
-----------------------------------------------------------------------------
> -
             |               Robust
             | Coefficient  std. err.      z    P>|z|     [95% conf. interval
> ]
-------------+---------------------------------------------------------------
> -
multi_num_~n |
       instr |   .0497683   .0359962     1.38   0.167    -.0207829    .120319
> 5
       _cons |   .2963855   .0224327    13.21   0.000     .2524182    .340352
> 9
-------------+---------------------------------------------------------------
> -
multi_num_~r |
       _cons |  -1.530549   .0298911   -51.20   0.000    -1.589135   -1.47196
> 4
-------------+---------------------------------------------------------------
> -
multi_den_~n |
       instr |   -.000929   .0303475    -0.03   0.976     -.060409     .05855
> 1
       _cons |   .1932367    .019419     9.95   0.000     .1551761    .231297
> 3
-------------+---------------------------------------------------------------
> -
multi_den_~r |
       _cons |    -1.8572   .0587214   -31.63   0.000    -1.972292   -1.74210
> 8
-----------------------------------------------------------------------------
> -

. nlcom [multi_num_reg_mean]instr/(1-[multi_num_reg_mean]_cons-[multi_den_reg
> _mean]_cons)         

       _nl_1: [multi_num_reg_mean]instr/(1-[multi_num_reg_mean]_cons-[multi_d
> en_reg_mean]_cons)

-----------------------------------------------------------------------------
> -
             | Coefficient  Std. err.      z    P>|z|     [95% conf. interval
> ]
-------------+---------------------------------------------------------------
> -
       _nl_1 |   .0975127   .0687259     1.42   0.156    -.0371876     .23221
> 3
-----------------------------------------------------------------------------
> -

. 
. matrix  multi_lower_bound_est = r(b)

. matrix multi_lower_bound_avar = r(V)

. scalar multi_lower_bound_coef = multi_lower_bound_est[1,1]

. scalar   multi_lower_bound_se = sqrt(lower_bound_avar[1,1])

. 
. 
. scalar  multi_lower_bound_end = max(0,multi_lower_bound_coef - cv_cns1_adj*
> multi_lower_bound_se)

. scalar list multi_lower_bound_end multi_lower_bound_coef
multi_lower_bound_end =  .05540452
multi_lower_bound_coef =  .09751268

. 
. 
. *** saving results ***
. matrix results = results \ (multi_lower_bound_end, multi_lower_bound_coef, 
> 1, 1) 

. 
. 
. *******************************************
. ****  Printing result in a LaTeX file *****
. *******************************************
.                                                   
. matrix results_est = (results[1..11,2], results[1..11,3], results[1..11,1],
>  results[1..11,4])

. 
. frmttable using "$Persuasion/results/table4", statmat(results_est) tex repl
> ace sdec(4) ///
>         title("Table 4") ///
>         ctitles("", Estimate (LB), Estimate (UB), CI (LB), CI (UB) )  ///
>         rtitles("Intent-to-Treat (Voting)" \ "Intent-to-Treat (Reading news
> paper)" \ ///
>         "Average Persuasion Rate (Case 1)" \ "Average Persuasion Rate (Case
>  2)" \ "Average Persuasion Rate (Case 3)" \    ///
>         "Local Persuasion Rate (Case 1)" \ "Local Persuasion Rate (Case 2)"
>  \ "Local Persuasion Rate (Case 3)" \ /// 
>         "LATE (Cases 1 and 2)" \ "LATE (Case 3)" \ "Non-binary case") 

                                   Table 4
    ---------------------------------------------------------------------
                                           Estimate (LB)  Estimate (UB) 
    ---------------------------------------------------------------------
     Intent-to-Treat (Voting)                 0.0498         0.0498     
     Intent-to-Treat (Reading newspaper)      0.0641         0.0641     
     Average Persuasion Rate (Case 1)         0.0707         0.6343     
     Average Persuasion Rate (Case 2)         0.0707         0.7832     
     Average Persuasion Rate (Case 3)         0.0707         1.0000     
     Local Persuasion Rate (Case 1)           0.8067         0.8067     
     Local Persuasion Rate (Case 2)           0.7759         1.0000     
     Local Persuasion Rate (Case 3)           0.0707         1.0000     
     LATE (Cases 1 and 2)                     0.7759         0.7759     
     LATE (Case 3)                            0.0498         1.0000     
     Non-binary case                          0.0975         1.0000     
    ---------------------------------------------------------------------


                                   Table 4
         ----------------------------------------------------------
                                                CI (LB)  CI (UB)  
         ----------------------------------------------------------
          Intent-to-Treat (Voting)              0.0036    0.0959  
          Intent-to-Treat (Reading newspaper)   0.0151    0.1132  
          Average Persuasion Rate (Case 1)      0.0289    0.6610  
          Average Persuasion Rate (Case 2)      0.0286    0.8143  
          Average Persuasion Rate (Case 3)      0.0288    1.0000  
          Local Persuasion Rate (Case 1)        0.1243    1.0000  
          Local Persuasion Rate (Case 2)        0.0069    1.0000  
          Local Persuasion Rate (Case 3)        0.0288    1.0000  
          LATE (Cases 1 and 2)                  0.0000    1.0000  
          LATE (Case 3)                         0.0195    1.0000  
          Non-binary case                       0.0554    1.0000  
         ----------------------------------------------------------


. 
end of do-file

. 
. * End log
. di "End date and time: $S_DATE $S_TIME"
End date and time:  5 Nov 2022 06:54:14

. log close
      name:  <unnamed>
       log:  /Users/sokbaelee/Dropbox/Persuasion/JPE/Replication Files/script
> s/logs/2022.11.05-06.54.00.log.txt
  log type:  text
 closed on:   5 Nov 2022, 06:54:14
-----------------------------------------------------------------------------
